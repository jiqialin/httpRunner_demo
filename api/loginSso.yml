
name: Sso login
base_url: ${ENV(LOGIN_URL)}
variables:
    username: ${ENV(USERNAME)}
    password: ${ENV(PASSWORD)}
    setup: "测试步骤1之前打印"
    teardown: "测试步骤1之后打印"

setup_hooks:
    - ${hook_print($setup)}
    - ${setup_hook_prepare_kwargs($request)}
teardown_hooks:
    - ${hook_print($teardown)}
    - ${teardown_hook_sleep_N_secs($response)}

request:
    url: loginUser
    method: POST
    headers:
        User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML,like Gecko) Chrome/76.0.3809.132 Safari/537.36
        Content-Type: "application/json"
    params:
      accounts: $username
      dynamicPassword: ''
      isGetDKey: 'false'
      password: $password
